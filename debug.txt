header:
  stamp:
    sec: 1770931267
    nanosec: 645028058
  frame_id: ''
name:
- wrist_extension
- joint_lift
- joint_arm_l3
- joint_arm_l2
- joint_arm_l1
- joint_arm_l0
- joint_head_pan
- joint_head_tilt
- joint_wrist_yaw
- joint_wrist_pitch
- joint_wrist_roll
- joint_gripper_finger_left
- joint_gripper_finger_right


ros2 launch stretch_deep_perception stretch_detect_faces.launch.py --show-args
Arguments (pass arguments as '<name>:=<value>'):

    'broadcast_odom_tf':
        Whether to broadcast the odom TF. Valid choices are: ['True', 'False']
        (default: 'False')

    'fail_out_of_range_goal':
        Whether the motion action servers fail on out-of-range commands. Valid choices are: ['True', 'False']
        (default: 'False')

    'mode':
        The mode in which the ROS driver commands the robot. Valid choices are: ['position', 'navigation', 'trajectory', 'gamepad']
        (default: 'position')

    'calibrated_controller_yaml_file':
        Path to the calibrated controller args file
        (default: '/home/hello-robot/ament_ws/install/stretch_core/share/stretch_core/config/controller_calibration_head.yaml')

    'resolution':
        resolution of the color/depth images low or high
        (default: 'high')

    'publish_frustum_viz':
        whether to pub viz of camera frustums
        (default: 'false')

    'publish_upright_img':
        whether to pub rotated upright color image
        (default: 'true')

    'depth_module.profile':
        depth module profile
        (default: '1280x720x15')

    'depth_module.depth_profile':
        depth module profile
        (default: '1280x720x15')

    'depth_module.infra_profile':
        depth module profile
        (default: '1280x720x15')

    'rgb_camera.profile':
        color image width
        (default: '1280x720x15')

    'rgb_camera.color_profile':
        color image width
        (default: '1280x720x15')

    'align_depth.enable':
        whether to publish aligned_depth_to_color feed
        (default: 'true')

    'device_type':
        ''
        (default: 'd435')

    'camera_namespace':
        namespace for camera
        (default: '')

    'camera_name':
        camera unique name
        (default: 'camera')

    'json_file_path':
        allows advanced configuration
        (default: '/home/hello-robot/ament_ws/install/stretch_core/share/stretch_core/config/HighAccuracyPreset.json')

    'enable_depth':
        enable depth stream
        (default: 'true')

    'enable_color':
        enable color stream
        (default: 'true')

    'enable_infra1':
        enable infra1 stream
        (default: 'false')

    'enable_infra2':
        enable infra2 stream
        (default: 'false')

    'infra_rgb':
        enable infra2 stream
        (default: 'false')

    'enable_confidence':
        enable depth stream
        (default: 'false')

    'gyro_fps':
        ''
        (default: '200')

    'accel_fps':
        ''
        (default: '63')

    'enable_gyro':
        ''
        (default: 'true')

    'enable_accel':
        ''
        (default: 'true')

    'pointcloud.enable':
        
        (default: 'true')

    'pointcloud.stream_filter':
        texture stream for pointcloud
        (default: '2')

    'pointcloud.stream_index_filter':
        texture stream index for pointcloud
        (default: '0')

    'enable_sync':
        ''
        (default: 'true')

    'initial_reset':
        ''
        (default: 'true')

    'allow_no_texture_points':
        ''
        (default: 'true')

    'serial_no':
        choose device by serial number
        (default: '''')

    'usb_port_id':
        choose device by usb port id
        (default: '''')

    'config_file':
        yaml config file
        (default: '''')

    'accelerate_gpu_with_glsl':
        enable GPU acceleration with GLSL
        (default: 'false')

    'rosbag_filename':
        A realsense bagfile to run from as a device
        (default: '''')

    'log_level':
        debug log level [DEBUG|INFO|WARN|ERROR|FATAL]
        (default: 'info')

    'output':
        pipe node output [screen|log]
        (default: 'screen')

    'rgb_camera.color_format':
        color stream format
        (default: 'RGB8')

    'rgb_camera.enable_auto_exposure':
        enable/disable auto exposure for color image
        (default: 'true')

    'enable_infra':
        enable infra0 stream
        (default: 'false')

    'depth_module.depth_format':
        depth stream format
        (default: 'Z16')

    'depth_module.infra_format':
        infra0 stream format
        (default: 'RGB8')

    'depth_module.infra1_format':
        infra1 stream format
        (default: 'Y8')

    'depth_module.infra2_format':
        infra2 stream format
        (default: 'Y8')

    'depth_module.exposure':
        Depth module manual exposure value
        (default: '8500')

    'depth_module.gain':
        Depth module manual gain value
        (default: '16')

    'depth_module.hdr_enabled':
        Depth module hdr enablement flag. Used for hdr_merge filter
        (default: 'false')

    'depth_module.enable_auto_exposure':
        enable/disable auto exposure for depth image
        (default: 'true')

    'depth_module.exposure.1':
        Depth module first exposure value. Used for hdr_merge filter
        (default: '7500')

    'depth_module.gain.1':
        Depth module first gain value. Used for hdr_merge filter
        (default: '16')

    'depth_module.exposure.2':
        Depth module second exposure value. Used for hdr_merge filter
        (default: '1')

    'depth_module.gain.2':
        Depth module second gain value. Used for hdr_merge filter
        (default: '16')

    'enable_rgbd':
        'enable rgbd topic'
        (default: 'false')

    'unite_imu_method':
        [0-None, 1-copy, 2-linear_interpolation]
        (default: '0')

    'clip_distance':
        ''
        (default: '-2.')

    'angular_velocity_cov':
        ''
        (default: '0.01')

    'linear_accel_cov':
        ''
        (default: '0.01')

    'diagnostics_period':
        Rate of publishing diagnostics. 0=Disabled
        (default: '0.0')

    'publish_tf':
        [bool] enable/disable publishing static & dynamic TF
        (default: 'true')

    'tf_publish_rate':
        [double] rate in Hz for publishing dynamic TF
        (default: '0.0')

    'pointcloud.ordered_pc':
        
        (default: 'false')

    'pointcloud.allow_no_texture_points':
        ''
        (default: 'false')

    'colorizer.enable':
        enable colorizer filter
        (default: 'false')

    'decimation_filter.enable':
        enable_decimation_filter
        (default: 'false')

    'spatial_filter.enable':
        enable_spatial_filter
        (default: 'false')

    'temporal_filter.enable':
        enable_temporal_filter
        (default: 'false')

    'disparity_filter.enable':
        enable_disparity_filter
        (default: 'false')

    'hole_filling_filter.enable':
        enable_hole_filling_filter
        (default: 'false')

    'hdr_merge.enable':
        hdr_merge filter enablement flag
        (default: 'false')

    'wait_for_device_timeout':
        Timeout for waiting for device to connect (Seconds)
        (default: '-1.')

    'reconnect_timeout':
        Timeout(seconds) between consequtive reconnection attempts
        (default: '6.')
hello-robot@stretch-se3-3103:~$ cool 

ros2 action send_goal /stretch_controller/follow_joint_trajectory control_msgs/action/FollowJointTrajectory \
"{trajectory: {joint_names: ['joint_head_pan','joint_head_tilt'], points: [
{positions: [0.0, 0.0], time_from_start: {sec: 0, nanosec: 100000000}},
{positions: [0.4, -0.3], time_from_start: {sec: 0, nanosec: 600000000}}
]}}"



sudo apt update
sudo apt install -y \
  ros-humble-cv-bridge \
  ros-humble-image-transport \
  ros-humble-sensor-msgs \
  ros-humble-control-msgs \
  ros-humble-trajectory-msgs

sudo apt install -y python3-opencv

pip3 install mediapipe

python3 -m pip install --user mediapipe


[stretch_driver-3] [INFO] [1771362227.954186399] [stretch_driver]: Received goal request
[stretch_driver-3] [INFO] [1771362227.964163194] [stretch_driver]: stretch_driver joint_traj action: New trajectory received with joint_names = ['joint_lift', 'wrist_extension', 'joint_wrist_yaw', 'joint_wrist_pitch', 'joint_wrist_roll', 'joint_gripper_finger_left']
[stretch_driver-3] -------------------------------------------
[stretch_driver-3] Errored goal
[stretch_driver-3] [INFO] [1771362241.994272103] [stretch_driver]: stretch_driver joint_traj action: Time to execute the current goal point = <trajectory_msgs.msg.JointTrajectoryPoint(positions=[0.55, 0.06, 0.0, -0.55, 1.0, 0.045], velocities=[], accelerations=[], effort=[], time_from_start=builtin_interfaces.msg.Duration(sec=2, nanosec=250000000))> exceeded the default_goal_timeout = 10.0




ros2 topic echo /joint_states --once
header:
  stamp:
    sec: 1771363355
    nanosec: 727272655
  frame_id: ''
name:
- joint_right_wheel
- joint_left_wheel
- joint_lift
- joint_arm_l3
- joint_arm_l2
- joint_arm_l1
- joint_arm_l0
- joint_wrist_yaw
- joint_head_pan
- joint_head_tilt
- joint_wrist_pitch
- joint_wrist_roll
- joint_gripper_finger_right
- joint_gripper_finger_left
position:
- 0.0
- 0.0
- 0.847888318130604
- 0.014180634514987614
- 0.014180634514987614
- 0.014180634514987614
- 0.014180634514987614
- 0.12911004964704148
- -0.015608550510398124
- -0.1876057085211481
- 0.39423306248660983
- 0.22856313739496056
- 0.19720473525899485
- 0.19720473525899485
velocity:
- 0.0
- 0.0
- 0.0003631887279435715
- 5.492380263805246e-05
- 5.492380263805246e-05
- 5.492380263805246e-05
- 5.492380263805246e-05
- -0.0
- -0.0
- -0.0
- -0.0
- 0.0
- 0.0
- 0.0
effort:
- 0.0
- 0.0
- 27.272787655101098
- 4.39623047631315e-45
- 4.39623047631315e-45
- 4.39623047631315e-45
- 4.39623047631315e-45
- 0.0
- -0.09765625
- 0.0
- -1.6609672691744017
- 0.0
- 0.0
- 0.0


[stretch_driver-3] [WARN] [1771366053.434921129] [stretch_driver]: Goal state not set, assuming aborted. Goal ID: [202  69  40  92 103 107  71 189 155  63 124  49 189  44 151 197]
[stretch_driver-3] [INFO] [1771366053.667673389] [stretch_driver]: Received goal request
[stretch_driver-3] [INFO] [1771366053.676863745] [stretch_driver]: stretch_driver joint_traj action: new traj with 2 points over 0.7 seconds
[stretch_driver-3] [ERROR] [1771366054.041542432] [stretch_driver]: Error raised in execute callback: Robot.follow_trajectory() got an unexpected keyword argument 'move_to_start_point'
[stretch_driver-3] Traceback (most recent call last):
[stretch_driver-3]   File "/opt/ros/humble/local/lib/python3.10/dist-packages/rclpy/action/server.py", line 337, in _execute_goal
[stretch_driver-3]     execute_result = await await_or_execute(execute_callback, goal_handle)
[stretch_driver-3]   File "/opt/ros/humble/local/lib/python3.10/dist-packages/rclpy/executors.py", line 107, in await_or_execute
[stretch_driver-3]     return callback(*args)
[stretch_driver-3]   File "/home/hello-robot/ament_ws/build/stretch_core/stretch_core/joint_trajectory_server.py", line 308, in execute_cb
[stretch_driver-3]     if not self.node.robot.follow_trajectory(
[stretch_driver-3] TypeError: Robot.follow_trajectory() got an unexpected keyword argument 'move_to_start_point'
[stretch_driver-3] [WARN] [1771366054.044262488] [stretch_driver]: Goal state not set, assuming aborted. Goal ID: [212  99  31 236   9  37  79  25 187  80 166 243  63 219  15 155]
[stretch_driver-3] [INFO] [1771366054.262877954] [stretch_driver]: Received goal request
[stretch_driver-3] [INFO] [1771366054.272229702] [stretch_driver]: stretch_driver joint_traj action: new traj with 2 points over 0.7 seconds
[stretch_driver-3] [ERROR] [1771366054.643253188] [stretch_driver]: Error raised in execute callback: Robot.follow_trajectory() got an unexpected keyword argument 'move_to_start_point'
[stretch_driver-3] Traceback (most recent call last):
[stretch_driver-3]   File "/opt/ros/humble/local/lib/python3.10/dist-packages/rclpy/action/server.py", line 337, in _execute_goal
[stretch_driver-3]     execute_result = await await_or_execute(execute_callback, goal_handle)
[stretch_driver-3]   File "/opt/ros/humble/local/lib/python3.10/dist-packages/rclpy/executors.py", line 107, in await_or_execute
[stretch_driver-3]     return callback(*args)
[stretch_driver-3]   File "/home/hello-robot/ament_ws/build/stretch_core/stretch_core/joint_trajectory_server.py", line 308, in execute_cb
[stretch_driver-3]     if not self.node.robot.follow_trajectory(
[stretch_driver-3] TypeError: Robot.follow_trajectory() got an unexpected keyword argument 'move_to_start_point'
[stretch_driver-3] [WARN] [1771366054.665916359] [stretch_driver]: Goal state not set, assuming aborted. Goal ID: [ 30  29 110 112  55 185  79   3 154 233 241  38 196  84  30 231]
[stretch_driver-3] [INFO] [1771366054.900032495] [stretch_driver]: Received goal request
[stretch_driver-3] [INFO] [1771366054.907601614] [stretch_driver]: stretch_driver joint_traj action: new traj with 2 points over 0.7 seconds
[stretch_driver-3] [ERROR] [1771366055.280257988] [stretch_driver]: Error raised in execute callback: Robot.follow_trajectory() got an unexpected keyword argument 'move_to_start_point'
[stretch_driver-3] Traceback (most recent call last):
[stretch_driver-3]   File "/opt/ros/humble/local/lib/python3.10/dist-packages/rclpy/action/server.py", line 337, in _execute_goal
[stretch_driver-3]     execute_result = await await_or_execute(execute_callback, goal_handle)
[stretch_driver-3]   File "/opt/ros/humble/local/lib/python3.10/dist-packages/rclpy/executors.py", line 107, in await_or_execute
[stretch_driver-3]     return callback(*args)
[stretch_driver-3]   File "/home/hello-robot/ament_ws/build/stretch_core/stretch_core/joint_trajectory_server.py", line 308, in execute_cb
[stretch_driver-3]     if not self.node.robot.follow_trajectory(
[stretch_driver-3] TypeError: Robot.follow_trajectory() got an unexpected keyword argument 'move_to_start_point'
[stretch_driver-3] [WARN] [1771366055.282089478] [stretch_driver]: Goal state not set, assuming aborted. Goal ID: [179 103  81 199 244 253  74 131 164   7 215 142 145 182  78 207]
[stretch_driver-3] [INFO] [1771366055.505750586] [stretch_driver]: Received goal request
[stretch_driver-3] [INFO] [1771366055.525325537] [stretch_driver]: stretch_driver joint_traj action: new traj with 2 points over 0.7 seconds
[stretch_driver-3] [ERROR] [1771366055.947933133] [stretch_driver]: Error raised in execute callback: Robot.follow_trajectory() got an unexpected keyword argument 'move_to_start_point'
[stretch_driver-3] Traceback (most recent call last):
[stretch_driver-3]   File "/opt/ros/humble/local/lib/python3.10/dist-packages/rclpy/action/server.py", line 337, in _execute_goal
[stretch_driver-3]     execute_result = await await_or_execute(execute_callback, goal_handle)
[stretch_driver-3]   File "/opt/ros/humble/local/lib/python3.10/dist-packages/rclpy/executors.py", line 107, in await_or_execute
[stretch_driver-3]     return callback(*args)
[stretch_driver-3]   File "/home/hello-robot/ament_ws/build/stretch_core/stretch_core/joint_trajectory_server.py", line 308, in execute_cb
[stretch_driver-3]     if not self.node.robot.follow_trajectory(
[stretch_driver-3] TypeError: Robot.follow_trajectory() got an unexpected keyword argument 'move_to_start_point'
[stretch_driver-3] [WARN] [1771366055.957860010] [stretch_driver]: Goal state not set, assuming aborted. Goal ID: [216 166 225 193 123  38  75  97 162 137 137  20  52   8  49 201]


